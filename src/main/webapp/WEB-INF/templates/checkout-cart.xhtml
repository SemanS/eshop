<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">


<h:form id="checkoutCartForm">
    <pre></pre>
    <p:dataTable var="cart"
                 value="#{shoppingCartView.cartItemDtos}"
                 dir="rtl">
        <p:column headerText="VYMAZAŤ" width="12%" style="text-align: center">
            <h:commandLink class="remove circle icon"
                           style="border-radius: 0px !important; color: red;"
                           action="#{shoppingCartView.onDeleteItem(cart)}"
                           value="">
                <!--<f:ajax render="@form"/>-->
                <i class="remove circle icon"></i>
            </h:commandLink>
        </p:column>

        <p:column headerText="CELKOM S DPH">
            <h:outputText value="#{car.color}"/>
        </p:column>

        <p:column headerText="JEDNOTKOVÁ CENA">
            <h:outputText value="#{car.color}"/>
        </p:column>

        <p:column headerText="MNOŽSTVO">
            <p:spinner id="ajaxSpinner" min="1" size="3" value="#{cart.quantity}">
                <p:ajax process="@form"/>
            </p:spinner>
        </p:column>

        <p:column headerText="VÝROBCA">
            <h:outputText value="#{cart.itemDto.producer.name}"/>
        </p:column>

        <p:column headerText="NÁZOV PRODUKTU">
            <h:outputText value="#{cart.itemDto.header}"/>
        </p:column>

        <p:column headerText="OBRÁZOK" width="12%" style="text-align: center">
            <img class="ui image avatar" src="data:image/png;base64,#{cart.itemDto.image}"/>
        </p:column>
    </p:dataTable>

    <h:commandLink class="ui medium button right floated" action="#{shoppingCartView.checkout()}"
                   style="border-radius: 0px !important; margin-top: 50px; color: green"
                   value="Do pokladne">
        <i class="right chevron icon"></i>
    </h:commandLink>

</h:form>

</html>